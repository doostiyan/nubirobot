from decimal import Decimal
from unittest import TestCase
from unittest.mock import Mock

from exchange.blockchain.api.one.one_rpc import HarmonyRPC
from exchange.blockchain.api.one.one_covalent import ONECovalenthqAPI
from exchange.blockchain.api.one.one_web3 import OneWeb3API
from exchange.blockchain.one import OneBlockchainInspector


class TestHarmonyBlockchainInspector(TestCase):

    dummy_status = {'jsonrpc': '2.0', 'id': 1,
                    'result': {'blockHash': '0x25cf0e5640746d0ecfcf7c63bff8e1b5ca8ba487931ee4de9f1fb4173a607760',
                               'blockNumber': 26544283, 'crossLinks': [{'block-number': 28454226, 'epoch-number': 972,
                                                                        'hash': '0xc0ee43e83df9d16787238e71cc05d5472aa957c18c76fd0e114d9e474a504d1d',
                                                                        'shard-id': 1,
                                                                        'signature': '489a0c7e7d4d094a295aef34a254a6cf44a77e481f5919da46d4c8188752ed56fcbbd25f161cc922d6cd8462b32f2906c741797d1c78e3d2f07fd39d24e0651cd30b3a9aef1f2f1db12663c3563799468157d8d0c74d82637b8304dd05531891',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff07',
                                                                        'view-id': 28457528},
                                                                       {'block-number': 28454227, 'epoch-number': 972,
                                                                        'hash': '0x9c32d83a99d3faf5edf1d16ac5d0cfc91d9b0bcf11eaaa85ba2f861332c2f72a',
                                                                        'shard-id': 1,
                                                                        'signature': '549a5ebc16d3277fc2edb6c405803b7b271d86c6d1be990d08bffdd5082303f647d7c1e7c1d676d5537ecf1e836f240678447479ef91153aff7991520173b13124c8e101952a552e954434cf036ec875d26c178db460856c437ca4e4d74fdd19',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff07',
                                                                        'view-id': 28457529},
                                                                       {'block-number': 28603319, 'epoch-number': 972,
                                                                        'hash': '0xa848572f77c9ec06b78eb71c2ad0b5e9062060397a9330fd49921462a40b2fe9',
                                                                        'shard-id': 2,
                                                                        'signature': '463c936c5fe8fdec6717d78b1fc44d87379d4aaa648a4354deed76d5b89a0a409fad6ef92bfca6e587931fea33ecec0a47d8961fe7c469bf0d604b1c0fc8eb70fefdd3464a13cdb0d6ac04e91d1ea3bc84678c2359a88ae0d9c186f32d908e19',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f',
                                                                        'view-id': 28603816},
                                                                       {'block-number': 28603320, 'epoch-number': 972,
                                                                        'hash': '0xaa98a85eef46169504d7032ba0388a5a60e22c10c5097a1abb57f2c18492c105',
                                                                        'shard-id': 2,
                                                                        'signature': '3a34547984f2977c92d00c3066be66637c23818d9e3a7779e4d8fe8849096dac453e63d593b593f85dfd12af572d5c171fcfa170ca213d17da4b8145a3acbfc447eeb74d12c5277d6da9f36d4fd33c672624512ac496d6a28522ddd3ccf5108c',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f',
                                                                        'view-id': 28603817},
                                                                       {'block-number': 28504975, 'epoch-number': 972,
                                                                        'hash': '0x8aa7084b90020a25fd89e91d298bca40eb4f547ea71f300a8aef164b16b4a11f',
                                                                        'shard-id': 3,
                                                                        'signature': '6b2e17a5107fa0129f9ea6dd8e4689b40f6fd5583a3cccd9ac3597a1f649adef58b6fed0817469393d90d6687f5e65131440384129f5fcf233c5eee37314424917655f23f5ced81c3f2da0648f9c5b9f5a412e8ec01302927aa648f46fd9d591',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f',
                                                                        'view-id': 28506201},
                                                                       {'block-number': 28504976, 'epoch-number': 972,
                                                                        'hash': '0x2e1a5739a2796640538cd2375cca118745166af32d6bb0e36015c1f920eb3b01',
                                                                        'shard-id': 3,
                                                                        'signature': '6be625fa577166acd90598bceb843f406c53c1b8393aca550dbf638f20afe6287e0a28a18d11ee06ecd5823b9b9beb0b10dd0ce86c620ec69d085e3dc9a7d86fcb5035836fcbd0f025a6247c6cf3b9a1b016400101c64e1b0a586e0fadecbf14',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f',
                                                                        'view-id': 28506202},
                                                                       {'block-number': 28504977, 'epoch-number': 972,
                                                                        'hash': '0xb6a31f119a0d06fc8ff6806b22099ed10d2588702236b2ad4ed9a068e3aee0e8',
                                                                        'shard-id': 3,
                                                                        'signature': '22a6387a6519a439bd19748d2764614552fe99554f92e0e0cb9fd737eaf691a99c306e4207f82b824b09ec6b3a915c0ce7bc2c15c8b576d26b41ef3aa1fe34f9f38272d0f12173d26aef7876b0490df601ffb1ee90193adecf29982918747189',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f',
                                                                        'view-id': 28506203},
                                                                       {'block-number': 28504978, 'epoch-number': 972,
                                                                        'hash': '0xb9f39058a1b2d36498f1ac1e46076efbde00fa55c56b0766c3d65a3bbe290bac',
                                                                        'shard-id': 3,
                                                                        'signature': 'b8fa0f5ba6c32cc3d6fe9b5cac4522da0b3829d32070023cc3d48f25e1246e0de0433713303a0ad0a987853c28749910be775f5eb180762fb8fc3e57efe9c6977afed8b95b3e31c651e133e04b351f9bd361f5b4293291c470d6803179398c01',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f',
                                                                        'view-id': 28506204},
                                                                       {'block-number': 28504979, 'epoch-number': 972,
                                                                        'hash': '0x6acf779f8df3436f66d1f0b2139c1ceab709307fa8b70c1cbbe4566a64036770',
                                                                        'shard-id': 3,
                                                                        'signature': 'f80ab7fdfff10151e4efac9aff7e1d661210030cca79f622a4908a69ca089c5f825d0a7fa44f7a519e216be107a5fb07d1b74fe1db144ec63e9ede5f9feafbbb5a284f54e952e5773e7902a62641f4206943c507e0e18796b2d43a3b7b6f8d09',
                                                                        'signature-bitmap': 'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f',
                                                                        'view-id': 28506205}], 'epoch': 972,
                               'lastCommitBitmap': 'fffffffffffffffffffffffffffffffffffffffffffffffffffdffffffffff07',
                               'lastCommitSig': '494571438f75d27b7a3b7a96d8cb3b2936c386d142fabaa1d80baec4c9a2f0bce5be0ffc6cf35eaaa441f35d4d200e12a38bcb2a7669d4116714367fe69fe8c4626210de0710cf8cbee468e870dbc63330c346bbc39a924dccb4d63441adb010',
                               'leader': 'one1nn2c86kwaq4nk8lda50fnepepqr9y73kd9w2z3', 'shardID': 0,
                               'timestamp': '2022-05-07 11:18:54 +0000 UTC', 'unixtime': 1651922334, 'viewID': 26216911,
                               'vrf': 'd3e358508ba7bb654761b1606c2256bd56705566da0a3ddb3a8a6e4d0456bc6a',
                               'vrfProof': '61f1229224712262e93a7a28aa00ddcf4f2920f782facd67fa865e9f62e6ecffaa515d7a0bf43c4bd7471d4aeb55e10715014584c0bcf00577e1d979fdc41dbfc970fd461c2f582ae5fc3598363354c3a20716ffe86e3fd36e20f6f19dc22d14'}}

    dummy_receipt_resp = {'jsonrpc': '2.0', 'id': 1,
                          'result': {'blockHash': '0x19a4ff92049b11394d029d93f3fd297a4b3e04b6af491d3218c40153ca3459bd',
                                     'blockNumber': 26213993,
                                     'contractAddress': '0x0000000000000000000000000000000000000000',
                                     'cumulativeGasUsed': 9973162, 'from': 'one1wmupuw4pvaca2kx8r6vfpjmwqad5mk8qmzv6n9',
                                     'gasUsed': 21000, 'logs': [],
                                     'logsBloom': '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
                                     'root': '0x', 'shardID': 0, 'status': 1,
                                     'to': 'one1sd5a698q6ut894nhn3ph3pvxs8cmdh26tdcvnc',
                                     'transactionHash': '0x5ddd02d3e7d3cd9779115c1a4ba87aa4e30c74ecfb038f5d2d9b2c6decfde11f',
                                     'transactionIndex': 90}}

    def test_get_api(self):
        apis = {'one_rpc': HarmonyRPC, 'web3': OneWeb3API,
                'covalent': ONECovalenthqAPI}

        for api in apis.keys():
            res = OneBlockchainInspector.get_one_api(api)
            self.assertEqual(res, apis.get(api).get_api())

    def test_get_wallets_balance_web3(self):
        address = '0xa67bffb64e2dd3728188595169176117cc77ff57'
        addresses = [address]
        api = OneWeb3API.get_api()
        api.w3.eth.get_balance = Mock()
        api.w3.eth.get_balance.return_value = 19492425930000000000

        expected_result = [
            {
                'address': address,
                'balance': Decimal('19.492425930000000000'),
                'received': Decimal('19.492425930000000000'),
                'sent': Decimal('0'),
                'rewarded': Decimal('0'),
            },
        ]

        result = OneBlockchainInspector.get_wallets_balance_web3(addresses)
        self.assertEqual(result, expected_result)

    def test_get_wallets_balance_covalent(self):
        address = '0x02aa8cee61665639e853dccd0e5971f55dd9f839'
        addresses = [address]
        expected_result = [
            {
                'address': address,
                'balance': Decimal('21.015509707570432735'),
                'received': Decimal('21.015509707570432735'),
                'sent': Decimal('0'),
                'rewarded': Decimal('0'),
            },
        ]
        test_data = {"data":{"address":"0x02aa8cee61665639e853dccd0e5971f55dd9f839","updated_at":"2022-05-07T10:19:02.684261593Z","next_update_at":"2022-05-07T10:24:02.684261964Z","quote_currency":"USD","chain_id":1666600000,"items":[{"contract_decimals":8,"contract_name":"0Gambling.io","contract_ticker_symbol":"0Gambling.io","contract_address":"0x556e28cd92660abbfdb7bd6e11df9f435fcf8d3c","supports_erc":["erc20"],"logo_url":"https://logos.covalenthq.com/tokens/1666600000/0x556e28cd92660abbfdb7bd6e11df9f435fcf8d3c.png","last_transferred_at":"2022-04-23T22:13:09Z","type":"cryptocurrency","balance":"300000000000000","balance_24h":None,"quote_rate":9.0881535E-5,"quote_rate_24h":None,"quote":272.6446,"quote_24h":None,"nft_data":None},{"contract_decimals":18,"contract_name":"Harmony","contract_ticker_symbol":"ONE","contract_address":"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee","supports_erc":None,"logo_url":"https://www.covalenthq.com/static/images/icons/display-icons/harmony-logo.svg","last_transferred_at":None,"type":"cryptocurrency","balance":"21015509707570432735","balance_24h":None,"quote_rate":0.07676732,"quote_rate_24h":0.07755658,"quote":1.6133043,"quote_24h":None,"nft_data":None},{"contract_decimals":18,"contract_name":"HarmonyShib","contract_ticker_symbol":"HSHIB","contract_address":"0x42bb785fe4fbb5ae70a51100620f75dd6924fc62","supports_erc":["erc20"],"logo_url":"https://logos.covalenthq.com/tokens/1666600000/0x42bb785fe4fbb5ae70a51100620f75dd6924fc62.png","last_transferred_at":"2021-11-20T15:02:08Z","type":"cryptocurrency","balance":"1000000000000000000","balance_24h":None,"quote_rate":None,"quote_rate_24h":None,"quote":0.0,"quote_24h":None,"nft_data":None},{"contract_decimals":18,"contract_name":"HarmonySnake","contract_ticker_symbol":"HSNAKE","contract_address":"0xc2852a5f9439b5494bbe5f023d5bf02ddbc8a040","supports_erc":["erc20"],"logo_url":"https://logos.covalenthq.com/tokens/1666600000/0xc2852a5f9439b5494bbe5f023d5bf02ddbc8a040.png","last_transferred_at":"2021-11-23T18:39:14Z","type":"dust","balance":"2000000000000000000","balance_24h":None,"quote_rate":4.496547E-10,"quote_rate_24h":None,"quote":0.0,"quote_24h":None,"nft_data":None}],"pagination":None},"error": False, "error_message":None, "error_code":None}
        api = ONECovalenthqAPI.get_api()
        api.request = Mock()
        api.request.return_value = test_data
        result = OneBlockchainInspector.get_wallets_balance_covalent(addresses)
        self.assertEqual(result, expected_result)

    def test_get_wallet_transactions_RPC(self):
        address = '0x76f81e3aa16771d558c71e9890cb6e075b4dd8e0'
        dummy_tx_resp = {'jsonrpc': '2.0', 'id': 1, 'result': {'transactions': [{'blockHash': '0x19a4ff92049b11394d029d93f3fd297a4b3e04b6af491d3218c40153ca3459bd', 'blockNumber': 26213993, 'ethHash': '0x4086877b30a0bee6275bf54aab09d73bd10dcef0bf4d1003405308a022ed4f75', 'from': 'one1wmupuw4pvaca2kx8r6vfpjmwqad5mk8qmzv6n9', 'gas': 21000, 'gasPrice': 35000000000, 'hash': '0x5ddd02d3e7d3cd9779115c1a4ba87aa4e30c74ecfb038f5d2d9b2c6decfde11f', 'input': '0x', 'nonce': 2349, 'r': '0x85d9db598b68972034f3412a69f79633cd2e022edca2d74ecb7931ca9cf75b1c', 's': '0x45fd036a85aa1f08347822115b1c5e67244774058d0bf331ce7734187d847d00', 'shardID': 0, 'timestamp': 1651922246, 'to': 'one1sd5a698q6ut894nhn3ph3pvxs8cmdh26tdcvnc', 'toShardID': 0, 'transactionIndex': 90, 'v': '0xc6ac98a3', 'value': 105063497927660000000000}]}}
        api = HarmonyRPC().get_api()
        api.request = Mock()
        api.request.side_effect = [dummy_tx_resp, self.dummy_receipt_resp, self.dummy_status]

        OneBlockchainInspector.USE_EXPLORER_TRANSACTION_ONE = 'one_rpc'
        dummy_result = OneBlockchainInspector.get_wallet_transactions_one(
            address)
        dummy_result = vars(dummy_result[0])

        expected_hash = dummy_tx_resp['result']['transactions'][0]['ethHash']
        expected_from_address = address
        expected_block_number = dummy_tx_resp['result']['transactions'][0]['blockNumber']
        expected_to_address = '0x8369dd14e0d71672d6779c4378858681f1b6dd5a'
        expected_amount = -105063.497927660000000000

        self.assertEqual(dummy_result['address'], address)
        self.assertEqual(dummy_result['hash'], expected_hash)
        self.assertEqual(dummy_result['from_address'], expected_from_address)
        self.assertEqual(dummy_result['block'], expected_block_number)
        self.assertEqual(float(dummy_result['value']), expected_amount)

    def test_get_transaction_by_hash_RPC(self):
        tx_hash = "0x4086877b30a0bee6275bf54aab09d73bd10dcef0bf4d1003405308a022ed4f75"
        dummy_tx_resp = {'jsonrpc': '2.0', 'id': 1, 'result': {'blockHash': '0x19a4ff92049b11394d029d93f3fd297a4b3e04b6af491d3218c40153ca3459bd', 'blockNumber': 26213993, 'ethHash': '0x4086877b30a0bee6275bf54aab09d73bd10dcef0bf4d1003405308a022ed4f75', 'from': 'one1wmupuw4pvaca2kx8r6vfpjmwqad5mk8qmzv6n9', 'gas': 21000, 'gasPrice': 35000000000, 'hash': '0x5ddd02d3e7d3cd9779115c1a4ba87aa4e30c74ecfb038f5d2d9b2c6decfde11f', 'input': '0x', 'nonce': 2349, 'r': '0x85d9db598b68972034f3412a69f79633cd2e022edca2d74ecb7931ca9cf75b1c', 's': '0x45fd036a85aa1f08347822115b1c5e67244774058d0bf331ce7734187d847d00', 'shardID': 0, 'timestamp': 1651922246, 'to': 'one1sd5a698q6ut894nhn3ph3pvxs8cmdh26tdcvnc', 'toShardID': 0, 'transactionIndex': 90, 'v': '0xc6ac98a3', 'value': 105063497927660000000000}}

        api = HarmonyRPC()
        api.request = Mock()
        api.request.side_effect = [dummy_tx_resp, self.dummy_receipt_resp]

        dummy_result = api.get_tx_details(tx_hash)

        expected_from_address = "0x76f81e3aa16771d558c71e9890cb6e075b4dd8e0"
        expected_block_number = dummy_tx_resp['result']['blockNumber']
        expected_to_address = '0x8369dd14e0d71672d6779c4378858681f1b6dd5a'
        expected_amount = 105063.497927660000000000

        self.assertEqual(dummy_result['hash'], tx_hash)
        self.assertEqual(dummy_result['transfers'][0]['from'], expected_from_address)
        self.assertEqual(dummy_result['transfers'][0]['to'], expected_to_address)
        self.assertEqual(dummy_result['block'], expected_block_number)
        self.assertEqual(float(dummy_result['transfers'][0]['value']), expected_amount)

    def test_get_block_RPC(self):
        block_number = 26220008
        get_block_dummy_status = self.dummy_status
        get_block_dummy_status['result']['blockNumber'] = block_number
        dummy_block_resp = {'jsonrpc': '2.0', 'id': 1, 'result': [{'number': 26220008, 'viewID': 26222886, 'epoch': 973, 'hash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'parentHash': '0x2d3300327075e900a09026f5ad4b89e31b370627ce58cc743ee423c46568ebd1', 'nonce': 0, 'mixHash': '0x0000000000000000000000000000000000000000000000000000000000000000', 'logsBloom': '0x1021000810001090810840008000800020004080060000700008048000010810002400200000008000001a00000200440a020800400060900000000000321821004810110400804000100108400848210840002080150000102000008000a00400080030aa0400001100090012140a200001000088100000000d00102002003021080200000010000020001000121000000032410004000c880200400004000002100040040000420005000200000000028a408000014010200042011c02000001024102002000010000c00200200a01209102000080101000080c002000290004100088220900c0100102000480000000002200400200400000010010800001', 'stateRoot': '0xff907b011a6262c1a2e43156df357e3a2a4c3b4d9fdae75b2a1e0bebd0222c8c', 'miner': 'one1u7jzpkd3sr40kzw62vjval85dkzeyn3g2shz83', 'difficulty': 0, 'extraData': '0x', 'size': 5498, 'gasLimit': 80000000, 'gasUsed': 9239896, 'vrf': '0x5e13f630987cad81c8935806650c1e3ffbb0ea2877bdf0d5f20d13fc9cb2c07c', 'vrfProof': '0xd81fee103fd830cb448e2c964201f4fe6396735b3f3710d1539436499afe943eb0e5ddb281190e95f1766a4ab54b5a05f7c4a80d1024735e0ca30a5718460f5021eb31381bc1e2b1474d5757c16f39866407adb1c972e35feacaa8c6f619f383', 'timestamp': 1651934560, 'transactionsRoot': '0x0202f4096651baf5fe3d359578acb7dc504df488ffbb4e1fd43f54f79e97f6cb', 'receiptsRoot': '0xf09d2e4734caa5e43712dfc602ab7d8a8ccd5c466089c2f56d6ab60f59121045', 'uncles': [], 'transactions': [{'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1rpm2mmdf9lg59f9pz7zktr9n9pp5t98cgxta9u', 'timestamp': 1651934560, 'gas': 908657, 'gasPrice': 70000000000, 'hash': '0xf537e11a5fa00b3a1120b8ffbf8036ed013804619d322af6e8dff4f24a91da9a', 'ethHash': '0xab68402ea92842dce34576df2ea87c471465d3004ec376d464793132a13e16d0', 'input': '0xc855dea300000000000000000000000000000000000000000000000000000000000000600000000000000000000000003132c76acf2217646fb8391918d28a16bd8a8ef4000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000017228', 'nonce': 35289, 'to': 'one12yqt6vdcygm3zz9q7c7uldjefwv3n6h5trltq4', 'transactionIndex': 0, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0xfe309f7535a145d5c6b27655384651329e74c86329ee6856d0db85f76f7f8ce0', 's': '0x345d6e656d792f3632f430364ba2fad8f5d594d87e05379a4555bdf1c9b7c83e'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1gh9t8hffx3xfn3cgy6efudcee46qg5ugkxnaw4', 'timestamp': 1651934560, 'gas': 5000000, 'gasPrice': 50000000000, 'hash': '0x5e208a618dd75e8e0077f0d80b1871cdeade828d465795d5dee46be78ed9fc2e', 'ethHash': '0x671bb7836c635931cce1edde9f1be2468e40d09059a4061410bd7626bd8ce584', 'input': '0xa3a7e7f30000000000000000000000009726d87cc402f3e28cc1aa0d25314e8b7664526e', 'nonce': 724, 'to': 'one1wt93p34l543ym5r77cyqyl3kd0tfqpy0eyd6n0', 'transactionIndex': 1, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a4', 'r': '0x8d52d45bcc49402b06122b10928d0c397c91747b5f96074e12f49dcd152534fe', 's': '0x6e6febc7bd47e96820d4b35bf0ca76fec08d8c68296353d191709e5020f341e6'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1qqqqpy3v8lv4l5csdkr8p8g8lct3pnh98ljmgp', 'timestamp': 1651934560, 'gas': 3000000, 'gasPrice': 46100000000, 'hash': '0x279d83439fdf9a4fe94d3544d9420931fefc0d1b92ff1d84ea7e5788be7e0ea0', 'ethHash': '0x90aac337ad52ba256bcf87d5d1942f3b54e886848ad323db9252bdaca2b96009', 'input': '0x000084fb000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000003a4edcf3312f44ef027acfd8c21382a5259936e7000000000000000000000000cf664087a5bb0237a0bad6742852ec6c8d69a27a00000000000000000000000078aed65a2cc40c7d8b0df1554da60b38ad351432000000000000000000000000f6dd3dc05354f4f786213c1aae0ba9cdf54e3878000000000000000000000000641872e49c4a35fb3ca43b872f787c9d22b4d59600000000000000000000000000000000000000000000000000000000000009c400000000000000000000000000000000000000000000000000000000000000c9', 'nonce': 79177, 'to': 'one1qqqqqqrm33wvtjngpys3achluc3vfqsfh9gs9z', 'transactionIndex': 2, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0x9c6c6fe16abddb3c59de5ac4106e083780f8399504c0c08d70dfec71d5c91e3b', 's': '0x469e0c5042c63b81d00791bf2777f9ddbb50e017b9b936b344c276b6ede1f98b'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1ydjypxq62yrmaw3kpwk77tn0rw8ja7gvzsnfss', 'timestamp': 1651934560, 'gas': 500000, 'gasPrice': 42215212894, 'hash': '0xd697eaee3aa079679486c09afd36471080f290c0d291edba43baf797e41157e6', 'ethHash': '0xfd6588705fd63debdf76015a81d958d2b9b3ab077c6aa9a5b55c35f480895bb9', 'input': '0x8ea709f3', 'nonce': 3435246, 'to': 'one1ld7httx6t2sxef5zwx25qq5wu2zecevaake6dd', 'transactionIndex': 3, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a4', 'r': '0xe6cc7ec7edbcb37e9e3cf737887c9e338d6ab86bc8106710510a8feeb34326fe', 's': '0x156ced000159c173c28ea221e84c634af3b7ce4a5d7f495cb8b554e1119996e3'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1gz33p0tctpjtelfq2z7zj6h2cvplufyx3rr5s5', 'timestamp': 1651934560, 'gas': 1153990, 'gasPrice': 35000000000, 'hash': '0xa0899d9a1f72fd1d18c9f561cb51444f189a5c64d93b9bde9154c18af1efb5b9', 'ethHash': '0x4cba567f99b0c07ca96017525d0934639c50d79aea5b2810a54caf22ff652ed5', 'input': '0x8a2da17b0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f60af3a32bb94e395e17c70ab695d968f37bd2e40000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000026a2f0000000000000000000000000000000000000000000000000000000000029c77', 'nonce': 1095, 'to': 'one142dz388q2e0y6e2gucayg8nupp8xk5hk62auhh', 'transactionIndex': 4, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0xc60d88969e32c4e48cc464fa8b45609381ae67d3364ffb3f2c9f5f2ca5e37b72', 's': '0x1eec9cf4a98e9a0c22e60c6df84780f17b50a4db8bbcd19fe92b74356c8d8084'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1ep5lrsh5cm8nlg4kymhgksffs5u36g5na38wr0', 'timestamp': 1651934560, 'gas': 1262469, 'gasPrice': 35000000000, 'hash': '0xb42543bdbbee1e477027ae92cd8d9ac99b7a1fef9d6d9fec8aab3e36e577c568', 'ethHash': '0x6ea81582f29b34ccd6438cb4a8af3817e5df7250d9b5eac263a06c8bcdb513fd', 'input': '0xf51333f50000000000000000000000000000000000000000000000000000000000000080000000000000000000000000e4154b6e5d240507f9699c730a496790a722df19000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000012d9c000000000000000000000000000000000000000000000000000000000000000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', 'nonce': 4349, 'to': 'one12yqt6vdcygm3zz9q7c7uldjefwv3n6h5trltq4', 'transactionIndex': 5, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a4', 'r': '0x3a5b83a7e1ff1c21d22d7b07fbb125663f331725abbb47b9ba87f3c5fe40b261', 's': '0x42399113391cf94a072f91ef934adafffc7402c8d4e88a98eeedd2ecda58ddda'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one18r2empq0l0l57vh82muyngtv67u9wfh7xphcfk', 'timestamp': 1651934560, 'gas': 4241095, 'gasPrice': 35000000000, 'hash': '0x3a06b1cda3108c001eb4d36a2530e49f59abb1efc65910a48973a3cb6c4117f8', 'ethHash': '0x1a1aea7bb0d7c0c7bec2d03a0f3877ab8b1bbc7dbad688b3099996f76306a884', 'input': '0x528be0a9000000000000000000000000000000000000000000000000000000000001043c', 'nonce': 567, 'to': 'one142dz388q2e0y6e2gucayg8nupp8xk5hk62auhh', 'transactionIndex': 6, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0x1cb0e66749f665426bab79132fc2a42a2f9678f25affe097167ce776695af4c0', 's': '0x578da9ce7183009c9520d44182552d58086ad4d775adf18886927337279f73a'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1xfrkytxjwxta2sgqk3cmchsju49l76q3tdz5rs', 'timestamp': 1651934560, 'gas': 164484, 'gasPrice': 35000000000, 'hash': '0x60eddca699f6260b2fcb02ec72b8f8dd3a4f40b06ccc23d2e7f50c532d7469cb', 'ethHash': '0xf32cfebe2aa2679620bd1c6e071e6a4d2153f88f4c74fca462f4815cbaf7b8c5', 'input': '0x96b5a755000000000000000000000000000000000000000000000000000000000002dfa1', 'nonce': 391, 'to': 'one1zwn9h8uq883vqv4uqgshrhq9kvxr72yjjjz9la', 'transactionIndex': 7, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0xa6f1c75608d3f6926139a4c24c09969bda2043a809dead3e04524216384f929e', 's': '0x5397b3a6e0a35b82897a32b843aa4fdcb654c335cdca64b5d1a609756095319'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1hrwkuemagya8zedl96mgqc9k0l7lxxtlwwh976', 'timestamp': 1651934560, 'gas': 684480, 'gasPrice': 35000000000, 'hash': '0x7bcf76d786fc07d76b04289b9011db6b7e6453580655963fbae1ea19c87d42d2', 'ethHash': '0x36e002d06be5ecd8a629ce6e63ef57aa5acf122b2684466718271d7945ef7b25', 'input': '0x8dbdbe6d0000000000000000000000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000b5cbe915b7f757be0000000000000000000000000000000000000000000000000000000000000000', 'nonce': 7706, 'to': 'one1mvcxg0r34j0zzgk2qdq76a7sn40en7fy7lytq4', 'transactionIndex': 8, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0xa54e71bd486aa3cf533a3e1110d335b40de60726497580e6c5930f85ed014918', 's': '0x41e5037f4c4d7b2fae69362bafc681f938fd64d803344d537f05111a2c3a852e'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one15vm6d62dpzk2fygqesa642c28lnktvnn0r3y95', 'timestamp': 1651934560, 'gas': 162136, 'gasPrice': 35000000000, 'hash': '0x22cbca47e805584275723f8d1cfb5210c218b3dbd782ff48f0af4b23ef51562c', 'ethHash': '0x417d35a7b6b1dd7d51bc7f1b1dd1c7ac9c0322e1d49e972b2d99e2880d0f9d23', 'input': '0x7ff36ab5000000000000000000000000000000000000000000000245f819a5f88589f2860000000000000000000000000000000000000000000000000000000000000080000000000000000000000000a337a6e94d08aca49100cc3baaab0a3fe765b2730000000000000000000000000000000000000000000000000000000062768c520000000000000000000000000000000000000000000000000000000000000002000000000000000000000000cf664087a5bb0237a0bad6742852ec6c8d69a27a0000000000000000000000002dae9ac8e3195715f308b59e7e9326f115ab4d98', 'nonce': 49, 'to': 'one1rvpd4r9s6zt7hr2h596m3rra3drejagxen2var', 'transactionIndex': 9, 'value': 500000000000000000000, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0x583d5f45465913a3888d0fc1b30f6741ae4b3fe6e91a7ee81f278ed89a4714eb', 's': '0x4eaea68e193e8e0d02b72fa76e6fcea0d578c4b45a5764a345819894bd9e5e3a'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1u7ktvh7k04wtwpzvzvxxcjvu92822nucdw3tmg', 'timestamp': 1651934560, 'gas': 520000, 'gasPrice': 35000000000, 'hash': '0xed866c6989b81411cb8aa222b61d688afc212d5ba2d7eb142b655a0071bec0fb', 'ethHash': '0xa0a0795e29d627d68ed2ff9480f53f88464229fe418ebdc29ee23f690632ab5f', 'input': '0xcf66215ad73467c693050877b63b3104c6a0f4cdf3c4329f943d58a516e46d4c048cf417a822cbca47', 'nonce': 2803, 'to': 'one1mmdcegawgurezlnmplj4axdxe55f90ysl28mwq', 'transactionIndex': 10, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0x26', 'r': '0xfa71767673378362481b03ee1c2e0d0aa6fc4545fbed3668d1d2602e2d9e2008', 's': '0x555c54f4e0a660ec999c4af534bb96d5db1041f06011012a834c296143cc2744'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1j4w6q2d72wh7fatn6quw0xyd23tgv5nyd28h97', 'timestamp': 1651934560, 'gas': 5000000, 'gasPrice': 35000000000, 'hash': '0x546e2788ac6ec8e484aa99181a45730074e08a58193c35b59731562195f155f6', 'ethHash': '0xd1847f81b87e248f64b5ff6ce9156c6cee884ef09d4609f2885aa093692a0e4d', 'input': '0x61461954985458e523db3d53125813ed68c274899e9dfab40000000000000121a9e000038cbb7acb6eaa9438271e8d66ded97d3d52aceb18001e00000000000000000000d90db16cf3d440585d22334714fad4999a84e681011e00000000000000000000956d6cbc3cd41f436fe279564feca53b5a7b66ee001900000000000000000000', 'nonce': 44157, 'to': 'one1m2m6rpeynadx8fuu5lvq7j6kllhwalmp65hvce', 'transactionIndex': 11, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0xcad16d083e92064b0fd5750fd90c2a924dad1aa20acfaec6e410274a199938f3', 's': '0x387fc091debe0fb80c1d6bb6c484a82b27f1f5fdbe2c44746b179c70b92f2fad'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1j4vtctq05lmvhf2qulps24ew7e8eccnppf5zqc', 'timestamp': 1651934560, 'gas': 5000000, 'gasPrice': 35000000000, 'hash': '0x251c9b49850efe892da9f4f231ff379c6eab9d47fc0891ccfcdae64b8baccb32', 'ethHash': '0x63ddeff24582befd0e0a31dea99d5dfac609ecf0647e8cc1fc326ca882cc9299', 'input': '0x61461954985458e523db3d53125813ed68c274899e9dfab40000000000000121a9e000038cbb7acb6eaa9438271e8d66ded97d3d52aceb18001e00000000000000000000d90db16cf3d440585d22334714fad4999a84e681011e00000000000000000000956d6cbc3cd41f436fe279564feca53b5a7b66ee001900000000000000000000', 'nonce': 43876, 'to': 'one1m2m6rpeynadx8fuu5lvq7j6kllhwalmp65hvce', 'transactionIndex': 12, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0x64834c90de2fa3617067e868bd6c45108a813307794a84cb567837abc18b75fa', 's': '0x18068b9c85355f9217538af442ed679110343e0a81d3a73b5fe0d65c79c6c00'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1j4kyj7lj56cgu5zuwvst449z7jf0jw6wld47h6', 'timestamp': 1651934560, 'gas': 5000000, 'gasPrice': 35000000000, 'hash': '0x2963d41756a3a969dff2e1e2350a5c3509bae234bda60d402c6855f39ed71907', 'ethHash': '0xe0ae0b0f692dfbaab8d6e24788ebae222a8eaed4555b04bc4bf9fb5573b6c357', 'input': '0x61461954985458e523db3d53125813ed68c274899e9dfab40000000000000121a9e000038cbb7acb6eaa9438271e8d66ded97d3d52aceb18001e00000000000000000000d90db16cf3d440585d22334714fad4999a84e681011e00000000000000000000956d6cbc3cd41f436fe279564feca53b5a7b66ee001900000000000000000000', 'nonce': 44229, 'to': 'one1m2m6rpeynadx8fuu5lvq7j6kllhwalmp65hvce', 'transactionIndex': 13, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0xaf7ab0151c4382b7e753a7de70483a2b7a4237a2bb30c6d6f614ce9bf743ec93', 's': '0x2e70efaa85f7501446a189960e5b6312eaa896c94e6f2a3a6cf75bc080af9bb'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1j4p06mj0633q3ve7zcd94nl5608gjymth28ufj', 'timestamp': 1651934560, 'gas': 5000000, 'gasPrice': 35000000000, 'hash': '0x078e335416725f565911a2231776724ecdb56a374257c60e7ead40df3b563a91', 'ethHash': '0xdfe585f7b0d466289ef0ea9937f2487611ef719389cd2c2847fe8046d0557ca1', 'input': '0x61461954985458e523db3d53125813ed68c274899e9dfab40000000000000121a9e000038cbb7acb6eaa9438271e8d66ded97d3d52aceb18001e00000000000000000000d90db16cf3d440585d22334714fad4999a84e681011e00000000000000000000956d6cbc3cd41f436fe279564feca53b5a7b66ee001900000000000000000000', 'nonce': 43430, 'to': 'one1m2m6rpeynadx8fuu5lvq7j6kllhwalmp65hvce', 'transactionIndex': 14, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0xd061814275f530d004ed7808d3bd103c89b3dee85c1d31b2d8ef649b77dd1c92', 's': '0x2a87ad5bc5e8374263d805e23cb9f586afd9495822c6ce6d1265eba5098575fd'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1fe2362yw3hd7grg2h4jz5vusnqzd8wpjj5cg2d', 'timestamp': 1651934560, 'gas': 520000, 'gasPrice': 35000000000, 'hash': '0xf25355e7acbc3c54fb901bc8d4ff9e3122868bff34e6f5c7ad3599dd122efd4e', 'ethHash': '0x5332de7b5de7edfc78f3ec72ea5325b81fab0e81f04bb27497d11e35ac99c6ea', 'input': '0x46563581db5ac36ddd3fd6e1e7082a17a19c17344dd1bcb6a4d41619a00a5615ca8cf417a822cbca47', 'nonce': 1840, 'to': 'one1mmdcegawgurezlnmplj4axdxe55f90ysl28mwq', 'transactionIndex': 15, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0x26', 'r': '0x97f9bb5689449fc5a9ccdd1fd1d81d62f6971f802927e81a5a8a31ddb472fddc', 's': '0x511caa31a30a12b1c594d1783d3effab854b782d6e5d27be2c32d6cd7f6f27e6'}, {'blockHash': '0x5f8f47e57ef3b8a7f0bed3f9a29a19f00116e9e4e89d78c66fa321a158c2c314', 'blockNumber': 26220008, 'from': 'one1qx4t2vkxwaeryg2vps0e8kqqhcj9xeex6uxsnq', 'timestamp': 1651934560, 'gas': 1200000, 'gasPrice': 31000000000, 'hash': '0x9d3f4bf2be4a802d6b986fefa0a61a03623aba36a57e2c2e573b572ecf6eeeb2', 'ethHash': '0xdd4a09c0630b67336f1304b14825cf565fb6a418bd0ca36dc8568daf054e978e', 'input': '0xf34563580000000000000000000000000000000000000000000000000000000000000000', 'nonce': 3250749, 'to': 'one1ykrkn6055etrl02wcx37njcta8vv8mfxewt9k0', 'transactionIndex': 16, 'value': 0, 'shardID': 0, 'toShardID': 0, 'v': '0xc6ac98a3', 'r': '0x238a2c6b5b152fdc57d571b737e2259f53533c6a7807673d5694c19db3ccb565', 's': '0x698ac2b7dd2a8b53d820b9613c342a3575c5e8fc3d0da839fbb733045d7c6b8'}], 'stakingTransactions': [], 'signers': ['one1gh043zc95e6mtutwy5a2zhvsxv7lnlklkj42ux', 'one1jyvcqu4k0rszgf3r2a02tm89dzd68arw5lz9vl', 'one1nn2c86kwaq4nk8lda50fnepepqr9y73kd9w2z3', 'one1u7jzpkd3sr40kzw62vjval85dkzeyn3g2shz83', 'one1tfrpfvrgj5tnxj029xsdkl33hmrsry056nrpvt', 'one1fg0nrc7djkm2p47tjsuhd8n9435mz9ed57dj8v', 'one15jv9h2rwtczgmre923nde50jfz0sjs8c9gnwpd', 'one145zhxlug79wjwlf9wrx5vh90u2t7nfu562rdlh', 'one17fn65sgdnp9hphg6vn58h90k3ujt07xtqrnn3y', 'one1ssctny3j3hs92wnetqgkrncwfatq6er6rhede9', 'one1uevxtwdqehq7k2v5jdm6mz4m492f3qpja4e36q', 'one1m4909gjt2g4fsl2jw95kxmjmja2ka4cc6d4sgs', 'one1sdrc3dla7zzd5pdqjagywfdumnqsyl57ql7sj2', 'one1w4ekumvg88ex5txjrzk9qgfx3xheua4djrphld', 'one1h3ztpa75txa2ng20jzzekqzcfmxx9v83lpeuaz', 'one1zsk49ypjc540vy2663gpn76d8z0mg577d8x5kw', 'one1pq9zk56dsapwracyx0z7lgz32603hzfk7f2t2e', 'one16dllsrjr04uhzsuw7raaq4cszpkt3g997yev2s', 'one1rs666h8mfgm33kqdkzzq4s6klem4d0hk9lldc4', 'one1xgk5rmygeuh5p4m2uhp048dfucr7avf7tzj6w4', 'one1jyzcklsqmr5r5qvvyh0r0e2436ss6vteap69kv', 'one1mvlwv0wjp9u6yv2v0ema3qurlnxkp5ftekegm8', 'one12q6kh768sn3m2dwf5vhn7nfuxstp6xvtf35m4r', 'one198as6uj8p4yucttkkhzrtpu9z8nfwqrgh7d3g6', 'one1su2vsv854y639m0qlst580ctx7sm4zwsy60xq7', 'one1upv5r5y3n5zce7a3wdj4z7pqzussqtdm35rcl5', 'one1upv5r5y3n5zce7a3wdj4z7pqzussqtdm35rcl5', 'one1upv5r5y3n5zce7a3wdj4z7pqzussqtdm35rcl5', 'one1upv5r5y3n5zce7a3wdj4z7pqzussqtdm35rcl5', 'one1upv5r5y3n5zce7a3wdj4z7pqzussqtdm35rcl5', 'one1upv5r5y3n5zce7a3wdj4z7pqzussqtdm35rcl5', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1ctwewx0pmg8k0tc8vnx4guyq9jm7dwz5k98tlm', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one1kf42rl6yg2avkjsu34ch2jn8yjs64ycn4n9wdj', 'one17nfgz8rtgpl3nlws5q9tdk9y3puyqf847az6ne', 'one16f3f9y4sqtrk3eq7gnagr4ac8p25rf08u0pxxp', 'one19ugus2az5a9m8tcgeq2pazcdht5kn3pe86434u', 'one1q83ag25yvxzl753jjunw8rhvz03w2p55dneenm', 'one1lufrnek99xmkg9sltfkm7t3ymdlgrc5jqfzv6j', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1x8fhymx4xsygy4dju9ea9vhs3vqg0u3ht0nz74', 'one1v63cck8d08708mlgz8rmrku4l9jgvtmfn8a6wh', 'one1v63cck8d08708mlgz8rmrku4l9jgvtmfn8a6wh', 'one1v63cck8d08708mlgz8rmrku4l9jgvtmfn8a6wh', 'one1v63cck8d08708mlgz8rmrku4l9jgvtmfn8a6wh', 'one1u3tlxeq9sl6qkmr8xd02zqa73lkrwkkujjl6d9', 'one1u3tlxeq9sl6qkmr8xd02zqa73lkrwkkujjl6d9', 'one1u3tlxeq9sl6qkmr8xd02zqa73lkrwkkujjl6d9', 'one1u3tlxeq9sl6qkmr8xd02zqa73lkrwkkujjl6d9', 'one1u3tlxeq9sl6qkmr8xd02zqa73lkrwkkujjl6d9', 'one1u3tlxeq9sl6qkmr8xd02zqa73lkrwkkujjl6d9', 'one1u3tlxeq9sl6qkmr8xd02zqa73lkrwkkujjl6d9', 'one1ktksx4t8t6grdllrf8vv78pj8pc6fwggvjhqzq', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one14q6lh6l25c4p7yjlkpcsc4c23jtge6a33dt7qj', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1l0wwv67lfelxhjvu6dkm9t8j5gsxev44lm6s02', 'one1t95hnx0yg2jpnc6xj2lzltgrnzac6nzce6nerj', 'one17495f2cxc2f5ej2h3v76jhkxjhg84v2m4azf55', 'one17495f2cxc2f5ej2h3v76jhkxjhg84v2m4azf55', 'one17495f2cxc2f5ej2h3v76jhkxjhg84v2m4azf55', 'one1zfnpdlr4v5hytm3gkm3z7a5d3c7sr69qg6aj4m', 'one10j0tswg6x4udqafvsetjj3fl0g4e52spwp0wsh', 'one1hukwz92wuymvls8hrk4fhwclk0cer5r2f03mu4', 'one1q73gcttk24690hdszqr3sfk6mhutj46y22tqqk', 'one1q73gcttk24690hdszqr3sfk6mhutj46y22tqqk', 'one1djdj7g588xs4605laaxjxfrk0kuler2s6uasw6', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one1qfpt5y3kuw8dnsd2d4lgjjzf849mfdzaxzum88', 'one16knqzazp2kxra3zx4sw32capqt3esg55wjg7ff', 'one16knqzazp2kxra3zx4sw32capqt3esg55wjg7ff', 'one16knqzazp2kxra3zx4sw32capqt3esg55wjg7ff', 'one16knqzazp2kxra3zx4sw32capqt3esg55wjg7ff', 'one16knqzazp2kxra3zx4sw32capqt3esg55wjg7ff', 'one1xrksyam05h78f47l70rtjsk5njy8u9f0ty995h', 'one1aagrkq9vg49jm5xx22fvm4leg0lt48qeupexvu', 'one1aagrkq9vg49jm5xx22fvm4leg0lt48qeupexvu', 'one1aagrkq9vg49jm5xx22fvm4leg0lt48qeupexvu', 'one1aagrkq9vg49jm5xx22fvm4leg0lt48qeupexvu', 'one1aagrkq9vg49jm5xx22fvm4leg0lt48qeupexvu', 'one1aagrkq9vg49jm5xx22fvm4leg0lt48qeupexvu', 'one1w7nvheulzwprf9d9a3r8sqtv5q47qlqx7kured', 'one1w7nvheulzwprf9d9a3r8sqtv5q47qlqx7kured', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1wrvlznh27fywscexnc2l9fxk5gjelcqdnw8pvw', 'one1mgptpfczc83lyv59zgy9wh73r4g9luqhsjyaw5', 'one1dfxg2nuesas99qu5fq4thhg4guuxtv8acheh8k', 'one1kxjfy7f7xn56wn477t5y4rpkk5vkem4lpngkp3', 'one1pr9wwqpamthyg6xvn2lcp26j0jphzvjuw22y64', 'one100e8xnhclh9sth9l5jqnywgwfckpf56v4sxfzg', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one14xkvsj8gnwl2tnu9wahfru35x8ppveaqdx5cnf', 'one1ugvtdxau0mmd38wt42na9la9melp84alnfkyx4', 'one1j35d0vd4uzwffeawjjfukn8t9wjt8csungj0z0', 'one1j35d0vd4uzwffeawjjfukn8t9wjt8csungj0z0', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one13jewk8w7jah3r9jfahh8rlzpr5r6valascd0mn', 'one1kp4h9f9hj859vasam9wk037r0gnsmguq5sw3xd', 'one1hlxe68d7trza48k0n4y77antwaken3x99pgw75', 'one1hlxe68d7trza48k0n4y77antwaken3x99pgw75', 'one1hlxe68d7trza48k0n4y77antwaken3x99pgw75', 'one1hlxe68d7trza48k0n4y77antwaken3x99pgw75', 'one1hlxe68d7trza48k0n4y77antwaken3x99pgw75', 'one1hlxe68d7trza48k0n4y77antwaken3x99pgw75', 'one1tz8zekjjkq4gtkwu852sw7qc8c22q78gl8tuvy', 'one1tz8zekjjkq4gtkwu852sw7qc8c22q78gl8tuvy', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1r55rwumsrm6w3d20uhaa3hm4rxr442k0qx9gj8', 'one1g0wg0mn4wwws2k2nwd32qvd84q9e0k9y34tgan', 'one1g0wg0mn4wwws2k2nwd32qvd84q9e0k9y34tgan', 'one1w9g7j40ctzlffmjrp6nmypdupsmyh0u90yn9xs', 'one17eez4r5qmlcvk8dyv0eqc9vl79au5q3lsgegpx']}]}

        api = HarmonyRPC()
        api.request = Mock()
        api.request.side_effect = [get_block_dummy_status, dummy_block_resp]

        OneBlockchainInspector.USE_EXPLORER_TRANSACTION_ONE = 'one_rpc'
        dummy_addresses, dummy_transaction_info, _ = api.get_latest_block(include_info=True, include_inputs=True)

        self.assertEqual(len(dummy_transaction_info['outgoing_txs']), 0)
        self.assertEqual(len(dummy_transaction_info['incoming_txs']), 0)

    def test_get_transactions_covalent(self):
        eth_hash = '0x39e7d996f057c879ed15251f7c48b568bc92b6b55a9fef67b6d4d676aaaa5293'
        address = '0x535628811dd91573954ff6c23b3bb1c128cef71e'
        true = True
        false = False

        dummy_tx_resp = {"data":{"address":"0x535628811dd91573954ff6c23b3bb1c128cef71e","updated_at":"2022-05-15T07:55:07.258557949Z","next_update_at":"2022-05-15T08:00:07.258558099Z","quote_currency":"USD","chain_id":1666600000,"items":[{"block_signed_at":"2022-05-13T08:24:05Z","block_height":26459387,"tx_hash":"0x26518508b579182968b80e59485361bbd91114fd50ada170f8dac21b76ca1b6d","tx_offset":8,"successful":true,"from_address":"0x535628811dd91573954ff6c23b3bb1c128cef71e","from_address_label":None,"to_address":"0x32253394e1c9e33c0da3ddd54cdeff07e457a687","to_address_label":None,"value":"380000000000000000000","value_quote":17.819357216358185,"gas_offered":149914,"gas_spent":110934,"gas_price":31000000000,"fees_paid":"3438954000000000","gas_quote":1.612630257279575E-4,"gas_quote_rate":0.04689304530620575,"log_events":[{"block_signed_at":"2022-05-13T08:24:05Z","block_height":26459387,"tx_offset":8,"log_offset":144,"tx_hash":"0x26518508b579182968b80e59485361bbd91114fd50ada170f8dac21b76ca1b6d","raw_log_topics":["0xd78ad95fa46c994b6551d0da85fc275fe613ce37657fb8d5e3d130840159d822","0x00000000000000000000000032253394e1c9e33c0da3ddd54cdeff07e457a687","0x000000000000000000000000535628811dd91573954ff6c23b3bb1c128cef71e"],"sender_contract_decimals":18,"sender_name":"FarmersOnly LP Token","sender_contract_ticker_symbol":"FOX-LP","sender_address":"0xc60ed49b9ac4ec55b56956d9a0b2611a3b683954","sender_address_label":None,"sender_logo_url":"https://logos.covalenthq.com/tokens/1666600000/0xc60ed49b9ac4ec55b56956d9a0b2611a3b683954.png","raw_log_data":"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014998f32ac787000000000000000000000000000000000000000000000000000c9148e1284d8fd6c720000000000000000000000000000000000000000000000000000000000000000","decoded":{"name":"Swap","signature":"Swap(indexed address sender, uint256 amount0In, uint256 amount1In, uint256 amount0Out, uint256 amount1Out, indexed address to)","params":[{"name":"sender","type":"address","indexed":true,"decoded":true,"value":"0x32253394e1c9e33c0da3ddd54cdeff07e457a687"},{"name":"amount0In","type":"uint256","indexed":false,"decoded":true,"value":"0"},{"name":"amount1In","type":"uint256","indexed":false,"decoded":true,"value":"380000000000000000000"},{"name":"amount0Out","type":"uint256","indexed":false,"decoded":true,"value":"3709276700504856816754"},{"name":"amount1Out","type":"uint256","indexed":false,"decoded":true,"value":"0"},{"name":"to","type":"address","indexed":true,"decoded":true,"value":"0x535628811dd91573954ff6c23b3bb1c128cef71e"}]}},{"block_signed_at":"2022-05-13T08:24:05Z","block_height":26459387,"tx_offset":8,"log_offset":143,"tx_hash":"0x26518508b579182968b80e59485361bbd91114fd50ada170f8dac21b76ca1b6d","raw_log_topics":["0x1c411e9a96e071241c2f21f7726b17ae89e3cab4c78be50e062b03a9fffbbad1"],"sender_contract_decimals":18,"sender_name":"FarmersOnly LP Token","sender_contract_ticker_symbol":"FOX-LP","sender_address":"0xc60ed49b9ac4ec55b56956d9a0b2611a3b683954","sender_address_label":None,"sender_logo_url":"https://logos.covalenthq.com/tokens/1666600000/0xc60ed49b9ac4ec55b56956d9a0b2611a3b683954.png","raw_log_data":"0x00000000000000000000000000000000000000000013d2c801c8590d607423600000000000000000000000000000000000000000000206abc7d328641e1bdf5c","decoded":{"name":"Sync","signature":"Sync(uint112 reserve0, uint112 reserve1)","params":[{"name":"reserve0","type":"uint112","indexed":false,"decoded":true,"value":"23964977011345825092346720"},{"name":"reserve1","type":"uint112","indexed":false,"decoded":true,"value":"2449354630259924654612316"}]}},{"block_signed_at":"2022-05-13T08:24:05Z","block_height":26459387,"tx_offset":8,"log_offset":142,"tx_hash":"0x26518508b579182968b80e59485361bbd91114fd50ada170f8dac21b76ca1b6d","raw_log_topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x000000000000000000000000c60ed49b9ac4ec55b56956d9a0b2611a3b683954","0x000000000000000000000000535628811dd91573954ff6c23b3bb1c128cef71e"],"sender_contract_decimals":18,"sender_name":"Oil","sender_contract_ticker_symbol":"OIL","sender_address":"0x1449ab6c24dcf3dbc1971021f465af1b81f48f07","sender_address_label":None,"sender_logo_url":"https://logos.covalenthq.com/tokens/1666600000/0x1449ab6c24dcf3dbc1971021f465af1b81f48f07.png","raw_log_data":"0x0000000000000000000000000000000000000000000000c9148e1284d8fd6c72","decoded":{"name":"Transfer","signature":"Transfer(indexed address from, indexed address to, uint256 value)","params":[{"name":"from","type":"address","indexed":true,"decoded":true,"value":"0xc60ed49b9ac4ec55b56956d9a0b2611a3b683954"},{"name":"to","type":"address","indexed":true,"decoded":true,"value":"0x535628811dd91573954ff6c23b3bb1c128cef71e"},{"name":"value","type":"uint256","indexed":false,"decoded":true,"value":"3709276700504856816754"}]}},{"block_signed_at":"2022-05-13T08:24:05Z","block_height":26459387,"tx_offset":8,"log_offset":141,"tx_hash":"0x26518508b579182968b80e59485361bbd91114fd50ada170f8dac21b76ca1b6d","raw_log_topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x00000000000000000000000032253394e1c9e33c0da3ddd54cdeff07e457a687","0x000000000000000000000000c60ed49b9ac4ec55b56956d9a0b2611a3b683954"],"sender_contract_decimals":18,"sender_name":"Wrapped ONE","sender_contract_ticker_symbol":"WONE","sender_address":"0xcf664087a5bb0237a0bad6742852ec6c8d69a27a","sender_address_label":None,"sender_logo_url":"https://logos.covalenthq.com/tokens/1666600000/0xcf664087a5bb0237a0bad6742852ec6c8d69a27a.png","raw_log_data":"0x000000000000000000000000000000000000000000000014998f32ac78700000","decoded":{"name":"Transfer","signature":"Transfer(indexed address from, indexed address to, uint256 value)","params":[{"name":"from","type":"address","indexed":true,"decoded":true,"value":"0x32253394e1c9e33c0da3ddd54cdeff07e457a687"},{"name":"to","type":"address","indexed":true,"decoded":true,"value":"0xc60ed49b9ac4ec55b56956d9a0b2611a3b683954"},{"name":"value","type":"uint256","indexed":false,"decoded":true,"value":"380000000000000000000"}]}},{"block_signed_at":"2022-05-13T08:24:05Z","block_height":26459387,"tx_offset":8,"log_offset":140,"tx_hash":"0x26518508b579182968b80e59485361bbd91114fd50ada170f8dac21b76ca1b6d","raw_log_topics":["0xe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c","0x00000000000000000000000032253394e1c9e33c0da3ddd54cdeff07e457a687"],"sender_contract_decimals":18,"sender_name":"Wrapped ONE","sender_contract_ticker_symbol":"WONE","sender_address":"0xcf664087a5bb0237a0bad6742852ec6c8d69a27a","sender_address_label":None,"sender_logo_url":"https://logos.covalenthq.com/tokens/1666600000/0xcf664087a5bb0237a0bad6742852ec6c8d69a27a.png","raw_log_data":"0x000000000000000000000000000000000000000000000014998f32ac78700000","decoded":{"name":"Deposit","signature":"Deposit(indexed address dst, uint256 wad)","params":[{"name":"dst","type":"address","indexed":true,"decoded":true,"value":"0x32253394e1c9e33c0da3ddd54cdeff07e457a687"},{"name":"wad","type":"uint256","indexed":false,"decoded":true,"value":"380000000000000000000"}]}}]}],"pagination":{"has_more":true,"page_number":11,"page_size":1,"total_count":None}},"error":false,"error_message":None,"error_code":None}
        dummy_status_resp = {"data":{"updated_at":"2022-05-09T11:09:46.280639339Z","items":[{"signed_at":"2022-05-09T11:09:41Z","height":26298425}],"pagination":None},"error":False,"error_message":None,"error_code":None}
        api = ONECovalenthqAPI.get_api()
        api.request = Mock()
        api.request.side_effect = [dummy_tx_resp, dummy_status_resp]

        hash_function = api.rpc
        hash_function.get_txs_hashes = Mock(return_value=[eth_hash])

        OneBlockchainInspector.USE_EXPLORER_TRANSACTION_ONE = 'covalent'
        results = OneBlockchainInspector.get_wallet_transactions_one(address)
        results = vars(results[0])
        self.assertEqual(results['address'], address)
        self.assertEqual(results['from_address'][0], address)
        self.assertEqual(results['hash'], eth_hash)
        self.assertEqual(results['block'], 26459387)
        self.assertEqual(float(results['value']), -380.000000000000000000)
