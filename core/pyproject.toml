[tool.darker]
isort = true
target-version = "py38"  # Python 3.8

[tool.black]
line-length = 120
skip-string-normalization = true
target-version = "py38"  # Python 3.8

[tool.isort]
profile = "black"
known_third_party = ["pytest"]

[tool.pytest.ini_options]
DJANGO_SETTINGS_MODULE = "exchange.settings"
addopts = "--maxfail=1 --reuse-db"
norecursedirs = ".* build dist *.egg node_modules templates venv"
testpaths = "tests exchange/blockchain"

[tool.ruff.flake8-quotes]
docstring-quotes = "double"
inline-quotes = "single"
multiline-quotes = "single"

[tool.ruff]

target-version = "py38"  # Python 3.8
line-length = 120

select = [
  "A",
  "B",
  "C",
  "E",
  "F",
  "G",
  "I",
  "N",
  "Q",
  "S",
  "T",
  "W",
  "ANN",
  "ARG",
  "BLE",
  "COM",
  "DJ",
  "DTZ",
  "EM",
  "ERA",
  "EXE",
  "FBT",
  "ICN",
  "INP",
  "ISC",
  "NPY",
  "PD",
  "PGH",
  "PIE",
  "PL",
  "PT",
  "PTH",
  "PYI",
  "RET",
  "RSE",
  "RUF",
  "SIM",
  "SLF",
  "TCH",
  "TID",
  "TRY",
  "UP",
  "YTT",
]

ignore = [
  "ANN001",   # Missing type annotation for function argument `request`'
  "ANN002",   # Missing type annotation for `*args''
  "ANN003",   # Missing type annotation for `**kwargs`'
  "ANN101",   # Missing type annotation for `self` in method'
  "ANN102",   # Missing type annotation for `cls` in classmethod'
  "ANN201",   # Missing return type annotation for public function'
  "ANN202",   # Missing return type annotation for private function'
  "ANN204",   # Missing return type annotation for special method'
  "ANN205",   # Missing return type annotation for staticmethod'
  "ANN206",   # Missing return type annotation for classmethod'
  "ARG001",   # Unused function argument:'
  "ARG002",   # Unused method argument'
  "B028",     # No explicit `stacklevel` keyword argument found'
  "B905",     # `zip()` without an explicit `strict=` parameter'
  "C408",     # Unnecessary `dict` call (rewrite as a literal)'
  "C901",     # is too complex'
  "DJ008",    # Model does not define __str__ method'
  "DJ012",    # Order of model's inner classes, methods, and fields does not follow the Django Style Guide: `save` method should come before custom method"
  "DTZ006",   # The use of `datetime.datetime.fromtimestamp()` without `tz` argument is not allowed'
  "EM101",    # Exception must not use a string literal, assign to variable first'
  "EM102",    # Exception must not use an f-string literal, assign to variable first'
  "ISC002",   # Implicitly concatenated string literals over multiple lines'
  "N818",     # Exception name should be named with an Error suffix'
  "PLR0911",  # Too many return statements'
  "PLR0912",  # Too many branches'
  "PLR0913",  # Too many arguments to function call'
  "PLR0915",  # Too many statement'
  "PLR2004",  # Magic value used in comparison, consider replacing 20000 with a constant variable'
  "RET503",   # Missing explicit `return` at the end of function able to return non-`None` value'
  "RUF001",   # String contains ambiguous unicode character'
  "S101",     # Use of `assert` detected'
  "S608",     # Possible SQL injection vector through string-based query construction'
  "T201",     # print found'
  "TRY003",   # Avoid specifying long messages outside the exception class'
  "UP007",    # Use X | Y for type annotations'
  "RSE102",   # Unnecessary parentheses on raised exception
]

fixable = [
  "A",
  "B",
  "C",
  "D",
  "E",
  "F",
  "G",
  "I",
  "N",
  "Q",
  "S",
  "T",
  "W",
  "ANN",
  "ARG",
  "BLE",
  "COM",
  "DJ",
  "DTZ",
  "EM",
  "ERA",
  "EXE",
  "FBT",
  "ICN",
  "INP",
  "ISC",
  "NPY",
  "PD",
  "PGH",
  "PIE",
  "PL",
  "PT",
  "PTH",
  "PYI",
  "RET",
  "RSE",
  "RUF",
  "SIM",
  "SLF",
  "TCH",
  "TID",
  "TRY",
  "UP",
  "YTT",
]
unfixable = []

[tool.ruff.per-file-ignores]
"exchange/*/migrations/*.py" = [
  "N806",     # Variable {name} in function should be lowercase
  "RUF012",   # Mutable class attributes should be annotated with typing.ClassVar
]
"exchange/*/management/commands/*.py" = [
  "T203",     # `pprint` found
]
"tests/**/test_*.py" = [
  "SLF001"
]

[tool.ruff.format]
quote-style = "single"
docstring-code-format = true
